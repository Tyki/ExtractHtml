function forAllChildren(a,c){for(var b=a.firstChild;b;){if(!filter(b)&&!c(b))return!1;b=b.nextSibling}return!0}function existChild(a,c){for(var b=a.firstChild;b;){if(c(b))return!0;b=b.nextSibling}return!1}function hasOnlyOneChild(a,c){for(var b=a.firstChild,d=0;b;)c(b)&&(d+=1),b=b.nextSibling;return 1==d}function isTitleElement(a){return"H1"==a.nodeName||"H2"==a.nodeName||"H3"==a.nodeName||"H4"==a.nodeName||"H5"==a.nodeName||"H6"==a.nodeName?!0:!1}
function isValidTextNode(a){return 3==a.nodeType&&""!=a.textContent.trim()?!0:!1}function isContentNode(a){return isValidTextNode(a)&&!a.textContent.match(/^\s+/,"")||contentNode[a.nodeName]||forAllChildren(a,isValidTextNode)?!0:!1}function isVirtualContentNode(a){return forAllChildren(a,isContentNode)?!0:!1}function isHr(a){return"HR"==a.nodeName}function isImg(a){return"IMG"==a.nodeName}
function isInline(a){if(isValidTextNode(a))return!0;annotation(a,"isInline-"+$(a).css("display"));return"inline"==$(a).css("display")||"inline-block"==$(a).css("display")||1==inlinetab[a.nodeName]}function isElement(a){return 1==a.nodeType}function isVisible(a){return 0>=$(a).width()&&0>=$(a).height()?!1:!0}
function isValidNode(a){return"IMG"==a.nodeName||"A"==a.nodeName?!0:"BR"==a.nodeName||filter(a)?!1:isValidTextNode(a)?!0:0>=$(a).width()&&0>=$(a).height()?(annotation(a,"nonvisible"+$(a).width()+$(a).height()),!1):!0}function isSupRule4Treshold(a){return 100*getSize(a)/pageSize>rule4Treshold}
function isValidBranch(a){if(1!=a.nodeType)return!1;if(0==a.childNodes.length)return 3==a.nodeType&&isValidTextNode(a)?!0:"IMG"==a.nodeName?2>$(a).width()||2>$(a).height()?!1:!0:contentNode[a.nodeName]?!0:!1;var c=!1;for(a=a.firstChild;a&&0==c;)isValidBranch(a)&&(c=!0),a=a.nextSibling;return c}
function filter(a){return"SCRIPT"==a.nodeName||"STYLE"==a.nodeName||"NOSCRIPT"==a.nodeName||"PARAM"==a.nodeName||"BR"==a.nodeName||2==a.nodeType||4==a.nodeType||5==a.nodeType||6==a.nodeType||7==a.nodeType||8==a.nodeType||9==a.nodeType||10==a.nodeType||11==a.nodeType||12==a.nodeType||3==a.nodeType&&0==isValidTextNode(a)||3!=a.nodeType&&0==isVisible(a)?!0:!1};